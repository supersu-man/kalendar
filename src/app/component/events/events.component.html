<div class="container py-2">

    <app-header></app-header>

    <div class="d-flex align-items-center">
        <div class="hide-in-mobile me-auto fs-3">{{year+'-'+month+'-'+date | date: 'dd MMMM yyyy'}}</div>
        <div class="hide-in-desktop me-auto fs-3">{{year+'-'+month+'-'+date | date: 'dd MMM yy'}}</div>

        <button mat-icon-button class="d-flex align-items-center" (click)="prevDay()">
            <mat-icon>keyboard_arrow_left</mat-icon>
        </button>
        <button mat-icon-button class="d-flex align-items-center" (click)="nextDay()">
            <mat-icon>keyboard_arrow_right</mat-icon>
        </button>
        <button mat-stroked-button class="p-3" (click)="today()">Today</button>

        <button mat-flat-button class="ms-1 p-1 hide-in-desktop" (click)="openAddEventDialog()">
            <mat-icon class="m-0">add</mat-icon>
        </button>
        <button mat-flat-button class="ms-1 p-3 hide-in-mobile" (click)="openAddEventDialog()">
            <mat-icon>add</mat-icon>
            <span>Add Event</span>
        </button>
    </div>

    <div class="d-flex flex-column mt-2 gap-2">
        @for (item of events; track $index) {
            <div class="d-flex border rounded-3 py-2 px-3 align-items-center">
                <div>
                    <div class="fs-5">{{item.title}}</div>
                    <div class="text-secondary small">{{item.description}}</div>
                    <div class="position-relative mt-1" style="width: 86px; height: 24px">
                        <div class="d-flex h-100 opacity-25 rounded-pill" [style]="'background-color:' + item.tag.color"></div>
                        <div class="position-absolute d-flex top-0 w-100 h-100 align-items-center justify-content-center gap-1">
                            <div [style.background-color]="item.tag.color" style="padding: 5px;" class="rounded-circle"></div>
                            <div class="small">{{item.tag.name}}</div>
                        </div>
                    </div>
                </div>
                <div class="d-flex ms-auto">
                    <button mat-icon-button class="d-flex align-items-center" (click)="openAddEventDialog(item)">
                        <mat-icon>edit</mat-icon>
                    </button>
                    <button mat-icon-button class="d-flex align-items-center" (click)="openDeleteTagDialog(item.id)">
                        <mat-icon>delete</mat-icon>
                    </button>
                </div>
            </div>
        }
    </div>

</div>
